local Players = game:GetService("Players")

-- Load OrionLib
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

-- Create the main window
local Window = OrionLib:MakeWindow({
    Name = "Jailbreak | OrionLib",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "JBConfig"
})

-- Create a tab
local Tab = Window:MakeTab({
    Name = "Player Controls",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Add a section for player list
local Section = Tab:AddSection({
    Name = "Player List Management"
})

-- Placeholder for player list
local playerNames = {}

-- Create the dropdown with placeholder options
local PlayerDropdown
PlayerDropdown = Tab:AddDropdown({
    Name = "Player List",
    Default = "Select a Player",
    Options = {"Loading..."},
    Callback = function(Value)
        print("Selected player:", Value)
    end
})

-- Function to refresh the player list
local function refreshPlayerList()
    playerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end

    -- If no players are found, provide a fallback
    if #playerNames == 0 then
        playerNames = {"No Players Found"}
    end

    -- Update the dropdown with the refreshed player list
    PlayerDropdown:Refresh(playerNames, playerNames[1])
end

-- Add a button to refresh the player list
Tab:AddButton({
    Name = "Refresh Player List",
    Callback = function()
        refreshPlayerList()
        print("Player list refreshed!")
    end    
})

-- Populate the initial player list
refreshPlayerList()

-- Initialize the UI
OrionLib:Init()
