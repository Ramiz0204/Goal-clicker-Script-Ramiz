local Players = game:GetService("Players")
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Jailbreak",
    Icon = 0,
    LoadingTitle = "JB Stalker",
    LoadingSubtitle = "by zcp0",
    Theme = "Default",
    DisableRayfieldPrompts = false,
    DisableBuildWarnings = false,
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "Main"
    },
    Discord = {
        Enabled = false,
        Invite = "noinvitelink",
        RememberJoins = true
    },
    KeySystem = false,
    KeySettings = {
        Title = "Untitled",
        Subtitle = "Key System",
        Note = "No method of obtaining the key is provided",
        FileName = "Key",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"Hello"}
    }
})

-- Main Tab Creation
local MainTab = Window:CreateTab("🏠 Home", nil) -- Title, Image
local MainSection = MainTab:CreateSection("Spectating")

-- Label to display the player list
local PlayerListLabel = MainTab:CreateLabel("Player List:\nLoading...")

-- Function to refresh the player list
local function refreshPlayerList()
    local playerNames = {}
    for _, player in ipairs(Players:GetPlayers()) do
        table.insert(playerNames, player.Name)
    end

    -- Update the label with the refreshed player list
    if #playerNames > 0 then
        PlayerListLabel:Set("Player List:\n" .. table.concat(playerNames, "\n"))
    else
        PlayerListLabel:Set("Player List:\nNo players in the game.")
    end

    print("Player list refreshed!")
end

-- Create the Refresh Button
local RefreshButton = MainTab:CreateButton({
    Name = "Refresh Player List",
    Callback = refreshPlayerList,
})

-- Refresh the player list on script execution
refreshPlayerList()
